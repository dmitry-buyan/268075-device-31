const writeUsButton=document.querySelector(".contacts__button"),feedback=document.querySelector(".feedback"),userNameField=feedback.querySelector("#contact-username"),userEmail=feedback.querySelector("#contact-email"),userFeedback=feedback.querySelector("#contact-text"),feedbackCloseButton=feedback.querySelector(".feedback__button-close"),feedbackForm=feedback.querySelector(".feedback__form"),feedbackShow=e=>{e.preventDefault(),feedback.classList.add("modal-show"),userNameField.focus()},addErrorClass=()=>feedback.classList.add("feedback--error"),feedbackHide=e=>{(e.target.classList.contains("button-close")||"Esc"===e.key||"Escape"===e.key)&&feedback.classList.contains("modal-show")&&(e.preventDefault(),feedback.classList.remove("modal-show"))},validateForm=e=>{const t=new FormData(e.target);""===t.get("username")?(e.preventDefault(),addErrorClass()):localStorage.setItem("username",t.get("username")),""===t.get("email")?(e.preventDefault(),addErrorClass()):localStorage.setItem("email",t.get("email")),""===t.get("text")&&(e.preventDefault(),addErrorClass())};writeUsButton.addEventListener("click",feedbackShow),feedbackCloseButton.addEventListener("click",feedbackHide),feedback.addEventListener("submit",validateForm),window.addEventListener("keydown",feedbackHide);
